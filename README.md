# Data Science & Bioinformatics Workshop 2
## Bioinformatics Software and File Transfer, Scripting, bash scripts, using SLURM
This repo includes all the required files to fully answer the questions set in this workshop, and ensuring reproducibility. It does require access to the UEA HPC to run and process the script ws2.sh as intended.
Each file is listed here with its intended purpose:

## Files:
### Workshop2 Directory:
- ws2.sh: A bash script that when run, will complete all the execises in workshop 2 and generate all other files described below. Instructions for how to do so are listedd later in the "Reproducing the exercise" section.
- ws2.sh.txt: Duplicate of the above with .txt file extention, allowing for submission to blackboard. 
- simple.txt: A generated text file containing "Simple text file"
- example_output.txt: A text file generated by running the ExampleJob batch_example.sh on the UEA HPC.
- *.bed: The two bed files D and L from D. melanogaster. required to perform the exercise. Included here if they are removed from the HPC in future, and the ws2.sh needs to updated to use new paths for these files.
### scripts Directory:
- hello_world.sh: A simple bash script that outputs "Hello world!" when run.
- threeCommands.sh: Simple bash script that lists the current directory contents and creates then deletes a txt file.
- batch_example.sh: A batch job intended to be run on the UEA HPC. Will generate the example_output.txt file when run.
- BED_overlap.sh: A more complicated batch job intended to be run on the UEA HPC. It will use various methods to determine overlaps in two .bed files located on the HPC (If these files are removed on the HPC new paths will need to be replaced to point to a new location of the  bedfiles in ws2.sh).
### bedfiles_output Directory:
- bedtools_default.bed: Default output running bedtools intersect on the two .bed files
- bedtools_r_f05.bed: Output running bedtools intersect with -r and -f 0.5 flags on the two .bed files
- bedtools_same_stranded.bed: Output running bedtools intersect with -r -f 0.5 and -s flags on the two .bed files
- full_matching_lines.bed: Output from using grep -Ff to find match lines between the two .bed files
- matching_*.bed: The files generated with only the listed matching columns using awk.
- overlap_counts: A text file containing the file names and the number of lines generate in each (The number of overlaps)

## Reproducing the exercise:
Login to the UEA HPC and navigate to a location you wish to clone the repository.
Clone the repo in a location on the UEA HPC and use cd to navigate into the repo folder created:
```
git clone https://github.com/AnonymousUEAStudent/Workshop2.git
cd Workshop2
```
Alternatively, if just the ws2.sh.txt file is available. Remove the .txt extension and copy the file to a folder of your choice on the HPC.

Run the bash script file using: 
```
bash ws2.sh
```
The script includes a few setup lines to ensure the script is reproducible when running multiple times.
This includes the deletion of files and folders generated during the script.
Running the script will produce the output described in the ws2.sh(.txt) file(s).

A summary of what the script achieves is listed below:
First the Workshop2 directory is reset to remove all previously generated output.
Creates a new subdirectory 'scripts' within the current directory.
Then generates two bash scripts hello_world.sh and threeCommands.sh.
It runs the three commands script.
It also generates two batch scripts for use in the HPC.
All scripts are saved in the scripts directory.
It then runs the two batch scripts on the HPC and generates the output files described in the files section.